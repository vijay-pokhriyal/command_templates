# Command Templates Configuration
# Define your shortcuts here for Git and Shell commands
# Format: /shortcut -> full command

git_commands:
  # Staging & Committing
  /add:
    command: "git add ."
    description: "Stage all changes"
    usage: "/add"
  
  /addf:
    command: "git add {file}"
    description: "Stage a specific file"
    usage: "/addf <filename>"
  
  /commit:
    command: "git commit -m \"{message}\""
    description: "Commit with a message"
    usage: "/commit \"your message here\""
  
  /acommit:
    command: "git add . && git commit -m \"{message}\""
    description: "Stage all and commit"
    usage: "/acommit \"your message here\""
  
  /amend:
    command: "git commit --amend -m \"{message}\""
    description: "Amend last commit message"
    usage: "/amend \"new message\""
  
  /uncommit:
    command: "git reset --soft HEAD~1"
    description: "Undo last commit, keep changes staged"
    usage: "/uncommit"

  /unstage:
    command: "git restore --staged {file}"
    description: "Unstage a file (or all if no file specified)"
    usage: "/unstage [filename]"

  # Branching
  /branch:
    command: "git branch"
    description: "List all branches"
    usage: "/branch"
  
  /newbranch:
    command: "git checkout -b {branch_name}"
    description: "Create and switch to new branch"
    usage: "/newbranch feature-xyz"
  
  /switch:
    command: "git checkout {branch_name}"
    description: "Switch to a branch"
    usage: "/switch main"
  
  /delbranch:
    command: "git branch -d {branch_name}"
    description: "Delete a local branch"
    usage: "/delbranch old-branch"
  
  /delbranchf:
    command: "git branch -D {branch_name}"
    description: "Force delete a local branch"
    usage: "/delbranchf old-branch"

  # Remote Operations
  /push:
    command: "git push origin {branch_name}"
    description: "Push to remote branch"
    usage: "/push main"
  
  /pushf:
    command: "git push origin {branch_name} --force"
    description: "Force push to remote branch"
    usage: "/pushf feature-branch"
  
  /pushu:
    command: "git push -u origin {branch_name}"
    description: "Push and set upstream"
    usage: "/pushu new-branch"
  
  /publish:
    command: "git push -u origin $(git branch --show-current)"
    description: "Publish current branch to remote"
    usage: "/publish"
  
  /pull:
    command: "git pull origin {branch_name}"
    description: "Pull from remote branch"
    usage: "/pull main"
  
  /fetch:
    command: "git fetch --all"
    description: "Fetch all remotes"
    usage: "/fetch"

  # Status & Logs
  /status:
    command: "git status"
    description: "Show working tree status"
    usage: "/status"
  
  /log:
    command: "git log --oneline -n {count}"
    description: "Show recent commits"
    usage: "/log 10"
  
  /logg:
    command: "git log --oneline --graph --all -n {count}"
    description: "Show commit graph"
    usage: "/logg 20"
  
  /diff:
    command: "git diff"
    description: "Show unstaged changes"
    usage: "/diff"
  
  /diffs:
    command: "git diff --staged"
    description: "Show staged changes"
    usage: "/diffs"

  # Stashing
  /stash:
    command: "git stash push -m \"{message}\""
    description: "Stash changes with message"
    usage: "/stash \"work in progress\""
  
  /stashlist:
    command: "git stash list"
    description: "List all stashes"
    usage: "/stashlist"
  
  /stashpop:
    command: "git stash pop"
    description: "Apply and remove latest stash"
    usage: "/stashpop"
  
  /stashapply:
    command: "git stash apply stash@{{{index}}}"
    description: "Apply a specific stash"
    usage: "/stashapply 0"

  # Merging & Rebasing
  /merge:
    command: "git merge {branch_name}"
    description: "Merge a branch into current"
    usage: "/merge feature-branch"
  
  /rebase:
    command: "git rebase {branch_name}"
    description: "Rebase onto a branch"
    usage: "/rebase main"
  
  /rebasei:
    command: "git rebase -i HEAD~{count}"
    description: "Interactive rebase"
    usage: "/rebasei 3"
  
  /abort:
    command: "git merge --abort"
    description: "Abort current merge"
    usage: "/abort"

  # Reset & Clean
  /reset:
    command: "git reset --hard HEAD"
    description: "Reset to last commit (discard all changes)"
    usage: "/reset"
  
  /clean:
    command: "git clean -fd"
    description: "Remove untracked files and directories"
    usage: "/clean"
  
  /restore:
    command: "git restore {file}"
    description: "Discard changes in a file"
    usage: "/restore filename.txt"

  # Clone & Init
  /clone:
    command: "git clone {url}"
    description: "Clone a repository"
    usage: "/clone https://github.com/user/repo.git"
  
  /init:
    command: "git init"
    description: "Initialize a new repository"
    usage: "/init"

# Composite workflows (multiple commands)
workflows:
  /fresh:
    commands:
      - "git checkout main"
      - "git pull --rebase origin main"
      - "git checkout -b {branch_name}"
    description: "Create a fresh feature branch from up-to-date main"
    usage: "/fresh feature-new"

  /ship:
    commands:
      - "git add ."
      - "git commit -m \"{message}\""
      - "git pull --rebase origin main"
      - "git push origin $(git branch --show-current)"
    description: "Stage, commit, rebase main, and push (safe feature delivery)"
    usage: "/ship \"feature done\""

  /cleanup:
    commands:
      - "git fetch --prune"
      - "git branch -vv | grep ': gone]' | awk '{print $1}' | xargs -r git branch -d"
      - "git branch --merged | grep -v '\*' | grep -v 'main' | xargs -r git branch -d"
    description: "Remove stale and merged local branches (except main)"
    usage: "/cleanup"

  /rebasei:
    commands:
      - "git fetch origin main"
      - "git rebase -i origin/main"
    description: "Interactive rebase onto latest main (squash/fixup)"
    usage: "/rebasei"

  /stash-pull-pop:
    commands:
      - "git stash push -m 'auto-stash before pull'"
      - "git pull --rebase origin $(git branch --show-current)"
      - "git stash pop"
    description: "Stash changes, pull/rebase, and re-apply your work"
    usage: "/stash-pull-pop"

  /forcepush-safe:
    commands:
      - "git branch backup-$(date +%Y%m%d%H%M%S)"
      - "git push --force-with-lease origin $(git branch --show-current)"
    description: "Backup branch, then force-push safely"
    usage: "/forcepush-safe"

  /rescue-merge:
    commands:
      - "git reflog"
      - "git reset --hard HEAD@{1}"
    description: "Undo last merge or rebase using reflog (rescue)"
    usage: "/rescue-merge"

  /sync:
    commands:
      - "git fetch --all"
      - "git pull --rebase origin {branch_name}"
    description: "Fetch and rebase onto latest remote branch"
    usage: "/sync main"
